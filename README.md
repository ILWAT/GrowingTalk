# GrowingTalk
<img src="https://github.com/ILWAT/GrowingTalk/assets/87518434/00f1a045-30e3-44da-8849-4acfe329a697" width="20%"></img><img src="https://github.com/ILWAT/GrowingTalk/assets/87518434/a7e1d4d8-63af-4b3d-9d58-d1ca62916d7b" width="20%"></img><img src="https://github.com/ILWAT/GrowingTalk/assets/87518434/8e944d10-dd5f-4ffe-801e-2ff82a6c2fbb" width="20%"></img><img src="https://github.com/ILWAT/GrowingTalk/assets/87518434/451516cc-0276-4092-a553-0db474408852" width="20%"></img><img src="https://github.com/ILWAT/GrowingTalk/assets/87518434/6c93b115-774d-4bb0-8447-27ec0070c983" width="20%"></img>


**ğŸ™ï¸í˜‘ì—…ì„ í†µí•œ ì„±ì¥ ê³µê°„, GrowingTalk**  



- ì´ë©”ì¼ ê¸°ë°˜ íšŒì› ì¸ì¦
- ì›Œí¬ìŠ¤í˜ì´ìŠ¤(ë©”ì¸ í™”ë©´) ë‚´ ì±„íŒ…ë°© ê°œì„¤ ê¸°ëŠ¥ ë° íšŒì› ì´ˆëŒ€ ê¸°ëŠ¥
- ì‹¤ì‹œê°„ ì±„íŒ… ê¸°ëŠ¥ ë° ìƒˆë¡œìš´ ì±„íŒ… ë„ì°©ì‹œ ì•Œë¦¼ ê¸°ëŠ¥
- ê²°ì œ ì‹œìŠ¤í…œ ê¸°ëŠ¥ í¬í•¨

<details>
<summary>ë” ìì„¸í•œ ìŠ¤í¬ë¦° ìƒ· ë³´ê¸°</summary>  
<div markdown="1">
<a href=https://github.com/ILWAT/GrowingTalk/pull/10)>ğŸ”—ì˜¨ë³´ë”© í™”ë©´</a></br>
<a href=https://github.com/ILWAT/GrowingTalk/pull/13>ğŸ”—íšŒì›ê°€ì…</a></br>
<a href=https://github.com/ILWAT/GrowingTalk/pull/14>ğŸ”—ë¡œê·¸ì¸</a></br>
<a href=https://github.com/ILWAT/GrowingTalk/pull/18>ğŸ”—í™ˆí™”ë©´(ì›Œí¬ìŠ¤í˜ì´ìŠ¤)</a></br>
<a href=https://github.com/ILWAT/GrowingTalk/pull/20>ğŸ”—ì‚¬ì´ë“œ ë°”</a></br>
<a href=https://github.com/ILWAT/GrowingTalk/pull/23>ğŸ”—ì±„íŒ…ì°½ ë° ì•Œë¦¼ ê¸°ëŠ¥</a></br>
<a href=https://github.com/ILWAT/GrowingTalk/pull/24>ğŸ”—PGê²°ì œ</a></br>
</div>
</details> </br> 

----------

**ğŸ“‹í•µì‹¬ ê¸°ìˆ **
- [`RxSwift`](https://github.com/ReactiveX/RxSwift) ê¸°ë°˜ MVVM íŒ¨í„´ ì ìš©ì„ í†µí•´ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ë¶„ë¦¬ ë° ë°˜ì‘í˜• í”„ë¡œê·¸ë˜ë° êµ¬í˜„
- [`Realm`](https://github.com/realm/realm-swift.git) DataBaseì— ê¸°ì¡´ ì±„íŒ… ë°ì´í„°ë¥¼ ì“°ê¸°/ì½ê¸°í•˜ì—¬  ë„¤íŠ¸ì›Œí¬ Reqeust ìµœì†Œí™”
- [`SocketIO`](https://github.com/socketio/socket.io-client-swift.git)ë¥¼ í™œìš©í•œ Socket í†µì‹  ê¸°ë°˜ ì‹¤ì‹œê°„ ì±„íŒ… êµ¬í˜„
- Payment Gateway(PG)ë¥¼ í†µí•œ ì‹ ìš© ì¹´ë“œ ê²°ì œ ì§€ì› 
- `Modern CollectionView`Â +Â `DiffableDataSource`ë¥¼ í™œìš©í•œ Expandable List êµ¬í˜„
- `Async/Await`ë¥¼ ë„ì…í•œÂ Realm Transaction ë¹„ë™ê¸° ì‹¤í–‰ êµ¬í˜„
- `Rx operator`ë¥¼ í™œìš©í•œ `JWTê¸°ë°˜ AccessToken, Refresh Token ê°±ì‹  ë¡œì§` êµ¬í˜„
- `UIGraphicsImageRenderer`ë¥¼ í†µí•œÂ ì´ë¯¸ì§€ Rendering resizing
- ê³µí†µ UI Component ë¶„ë¦¬ ë° ìº¡ìŠí™” êµ¬í˜„ì„ í†µí•œ ì¬ ì‚¬ìš©ì„± í–¥ìƒ




## ğŸ› ï¸ê°œë°œ
***ğŸŒê°œë°œ í™˜ê²½***
> ê°œë°œ ê¸°ê°„: 2024.01.02. ~ 03.01.  
> ê°œë°œ ì¸ì›: 1ì¸  
> ê°œë°œ ì–¸ì–´: Swift  
> Minimum Deployment: iOS 16.0+: `UISheetPresentationController.Detent.custom`
---------
***âš™ï¸ê¸°ìˆ  ìŠ¤íƒ***
- **BaseSDK**: `UIKit`
- **Pattern**: `MVVM`, `Singleton`, `Input-Output Pattern`
- **Reactive Programming**: `RxSwift`
- **Package Management**: `SPM`, `CocoaPods`
- **CodeBaseUI**: `PHPickerViewController`, `SnapKit`, `Then`, `Toast`
- **Database**: `RealmSwift`
- **Network**: `Moya`, `SocketIO`, `Kingfisher`
- **Management**: `FireBase Cloud Messaging`  

## ğŸ”¥ê°œë°œ Point
### ì‚¬ì´ë“œ ë°” êµ¬í˜„
- ì‚¬ì´ë“œ ë°”ë¥¼ êµ¬í˜„í•˜ê¸° ìœ„í•´ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë‚˜, ë³´í¸ì ì¸ ì‚¬ì´ë“œ ë°” êµ¬í˜„ **ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ì§€ì›ì´ ëŠê¸´ì§€ ì˜¤ë˜ ë˜ì—ˆìŒ**ì— ë”°ë¼ ì‚¬ì´ë“œ ë°” **ì§ì ‘ êµ¬í˜„**ì„ ì„ íƒ.
- `UIView.animate()`ë¥¼ í†µí•´ ViewWillAppear ì‹œì ê³¼ viewWillDisappear ì‹œì ì—ì„œì˜ ì• ë‹ˆë©”ì´ì…˜ì„ êµ¬í˜„.
- `UIPanGestureRecognizer`ë¥¼ í†µí•´ ë·°ì˜ `Animate`ë¥¼ ì ìš©í•˜ê³  **Viewì˜ dismissë¥¼ ê²°ì •**í•  ìˆ˜ ìˆë‹¤.

### ì±„íŒ… ë¡œì§
<img src="https://github.com/ILWAT/GrowingTalk/assets/87518434/756a373a-0bb1-4887-b3e2-51c894e70cca" width="60%"></img>
- ì„œë²„ì—ì„œ ì±„íŒ… ë‚´ì—­ì— ëŒ€í•œ ë°ì´í„°ë¥¼ ë°›ì„ ë•Œ, ëª¨ë“  ì±„íŒ… ë‚´ì—­ì„ ë°›ê²Œë˜ë©´ ì±„íŒ…ì„ í•˜ë©´ í• ìˆ˜ë¡ ì„œë²„ ë° í†µì‹ ì— ëŒ€í•´ì„œ ë¹„ìš©ì´ ë„ˆë¬´ ì»¤ì§€ê²Œ ëœë‹¤.
- ê·¸ë ‡ê¸° ë•Œë¬¸ì— ì„œë²„ë¡œë¶€í„° ì´ë¯¸ ë°›ì€ ì±„íŒ… ë‚´ì—­ì— ëŒ€í•´ì„œëŠ” ë¡œì»¬ì— ì €ì¥í•˜ì—¬ CRDí•˜ëŠ” ë°©ì‹ìœ¼ë¡œ êµ¬í˜„í•œ ë’¤, ë¡œì»¬ì—ì„œì˜ ë§ˆì§€ë§‰ ì±„íŒ…ì„ ê¸°ì¤€ìœ¼ë¡œ ê·¸ ì´í›„ ì±„íŒ… ë‚´ì—­ì„ ë°›ëŠ” ê²ƒìœ¼ë¡œ ë¹„ìš©ì„ ì ˆê°í•  ìˆ˜ ìˆë‹¤.
- ë¡œì»¬ DBì— ì €ì¥ë˜ì–´ ìˆëŠ” ì±„íŒ…ë‚´ì—­, ì„œë²„ í†µì‹ ì„ í†µí•´ ì±„íŒ… ë‚´ì—­ì„ ë°›ì•„ì˜¤ê³  ë‚˜ë©´ `Socket`ì„ í†µí•´ ì‹¤ì‹œê°„ ë°ì´í„°ë¥¼ ë°›ì•„ ì±„íŒ…ì„ êµ¬í˜„í•œë‹¤.
  



## âš Trouble Shooting
### ì‚¬ì´ë“œë°”ì˜ constraints + animate ë¬¸ì œ: (`Main event loop`ì˜ ì´í•´)
|ë¬¸ì œ ìƒí™©|ì •ìƒ|
|:--:|:--:|
|<img src="https://github.com/ILWAT/GrowingTalk/assets/87518434/6a4afd3b-0eb9-4001-b1e0-16a2aef8d715" width="20%"></img> |<img src="https://github.com/ILWAT/GrowingTalk/assets/87518434/da5ad0d6-a93c-457b-8363-b7465e8cede3" width="20%"></img>|

#### ë¬¸ì œì 
- ì‚¬ì´ë“œ ë°”ì˜ ë“±ì¥ ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ë¥¼ ì ìš©í•˜ê¸° ìœ„í•´ ì‚¬ì´ë“œ ë°”ì˜ View ì´ˆê¸° ìœ„ì¹˜ë¥¼ ë„ˆë¹„ë§Œí¼ í˜„ì¬ Viewë¡œë¶€í„° ìŒìˆ˜ ë°©í–¥ìœ¼ë¡œ Constraintsë¥¼  viewDidLoadì‹œì ì— ì„¤ì •í•œ ë‹¤ìŒ, ViewWillAppear ì‹œì ì— Constraintsë¥¼ í˜„ì¬ Viewë¡œ ë§ì¶°ì£¼ì–´ UIView.animate() ë©”ì„œë“œë¥¼ ì‹¤í–‰í–ˆìœ¼ë‚˜, ë·°ì˜ ì• ë‹ˆë©”ì´ì…˜ì´ **X ì¢Œí‘œ ë¿ë§Œ ì•„ë‹ˆë¼ Yì¢Œí‘œë„ ê°™ì´ Animationì´ ì‹¤í–‰ë˜ëŠ” ë¬¸ì œì **ì´ ë°œìƒ
```Swift
private func sideBarAppearAnimation() {
      self.sideBarView.snp.updateConstraints { make in
            make.leading.equalTo(self.view)
        }
        UIView.animate(withDuration: 0.5, delay: 0) {
            self.view.layoutIfNeeded()
        }
}
```

#### ì›ì¸ ë° í•´ê²°
- ë””ë²„ê¹…ì„ ì§„í–‰í–ˆì„ ë•Œ, viewWillAppearì‹œì  ì „ê¹Œì§€ ì‚¬ì´ë“œë°” Viewì˜ ì´ˆê¸° í¬ê¸° ë° ìœ„ì¹˜ê°€ ëª¨ë‘ ì •í•´ì§€ì§€ ì•ŠëŠ” ìƒíƒœì„ì„ í™•ì¸
- `Main event loop`ì˜ ê°œë…ì´ í•„ìš”í•¨.
  - ë¬´ì‘ì • Constraintsë¥¼ ì„¤ì •í–ˆë‹¤ê³  í•´ì„œ ë°”ë¡œ Viewì— Constraintsê°€ ì ìš©ë˜ì–´ ë·°ì˜ ìœ„ì¹˜ì™€ í¬ê¸°ê°€ ê²°ì •ë˜ëŠ” ê²ƒì´ ì•„ë‹˜.
  - `Main run loop`ì˜ ì‹œì ì´ ë™ì‘ë˜ì–´ì•¼ ë¹„ë¡œì†Œ ì‹¤ì§ˆì  Constraintsê°€ ì ìš©ë˜ì–´ ë·°ì˜ ìœ„ì¹˜ì™€ í¬ê¸°ê°€ ê²°ì •ë¨.
  - UIView.animate()ëŠ” Scopeë‚´ì—ì„œì˜ View ë³€ê²½ì‚¬í•­ì„ ê·¸ ì´ì „ê³¼ ë¹„êµí•˜ì—¬ ì• ë‹ˆë©”ì´ì…˜ì„ ì‹¤í–‰í•˜ëŠ” êµ¬ì¡°ë¡œ ë™ì‘í•¨.
  - ê·¸ë ‡ê¸° ë•Œë¬¸ì— ViewDidLoad() ì‹¤í–‰ ì‹œì ê³¼ ViewWillAppear()ê°€ ì‹¤í–‰ë˜ëŠ” ì‹œì ì˜ ì°¨ì´ê°€ êµ‰ì¥íˆ ì§§ì€ ê²½ìš°, ì‹¤ì§ˆì ì¸ ì´ˆê¸° Constraintsê°€ ì ìš©ë˜ê¸° ì „ì— Constratintsê°€ ë®ì–´ì“°ê¸° ë˜ì–´ ì¢Œí‘œ(0, 0)ê³¼ Frame(0, 0)ì— ìƒíƒœì—ì„œ ìµœì¢… ì• ë‹ˆë©”ì´ì…˜ì´ ì‹¤í–‰ë˜ëŠ” ê²ƒì´ê¸°ì— ì´ëŸ¬í•œ ë¬¸ì œê°€ ë°œìƒ.
  - Constraintsê°€ ë®ì–´ì“°ê¸° ë˜ê¸° ì „ì— `Main run loop`ë¥¼ ì„ì˜ë¡œ ë™ì‘ì‹œì¼œ ì´ˆê¸° ë·°ë¥¼ ì„¤ì •í•´ ì¤€ ë‹¤ìŒ, Constraintsë¥¼ ë°”ê¾¸ì–´ animateë¥¼ ì‹¤í–‰í•˜ë©´ í•´ë‹¹ ë¬¸ì œê°€ í•´ê²°ë¨.
```Swift
private func sideBarAppearAnimation() {
        self.view.layoutIfNeeded() //AutoLayoutì„ í†µí•´ ë·°ì˜ ì´ˆê¸° ìœ„ì¹˜ì™€ í¬ê¸°ë¥¼ ì¡ì•˜ê¸°ì— ì• ë‹ˆë©”ì´ì…˜ì„ í•´ë‹¹ ë©”ì„œë“œ ì‹¤í–‰ -> ë·°ê°€ ì‹¤ì œë¡œ ë³´ì—¬ì§€ê¸° ì „ê¹Œì§€ ì´ˆê¸° AutoLayoutì€ ì‹¤í–‰ë˜ì§€ ì•ŠìŒ.
        sideBarView.snp.updateConstraints { make in
            make.leading.equalTo(self.view)
        }
        UIView.animate(withDuration: 0.5, delay: 0) {
            self.view.layoutIfNeeded()
        }
    }
```

### ë„¤ë¹„ê²Œì´ì…˜ ë°”ì˜ UIBarButtonItemì˜ í¬ê¸°ê°€ ì¡°ì ˆë˜ì§€ ì•ŠëŠ” ë¬¸ì œ

|ë¬¸ì œ ìƒí™©|ì •ìƒ|
|:--:|:--:|
|<img width="341" alt="á„‚á…¦á„‡á…µá„€á…¦á„‹á…µá„‰á…§á†« á„‡á…¡ á„‹á…©á„…á…²" src="https://github.com/ILWAT/GrowingTalk/assets/87518434/8990699d-9f56-41c7-9586-0292c19e1cd7">|<img width="314" alt="á„‚á…¦á„‡á…µá„€á…¦á„‹á…µá„‰á…§á†« á„‡á…¡ á„Œá…¥á†¼á„‰á…¡á†¼" src="https://github.com/ILWAT/GrowingTalk/assets/87518434/fc514b2e-e4da-4a34-885c-2f8681d8100f">|


- Left Bar Button Itemì„ ê¸°íš ë° ë””ìì¸ì— ë§ì¶”ì–´ ë²„íŠ¼ í¬ê¸°ì˜ ì„¤ì •ì´ í•„ìš”í•¨.
  ```Swift
    let workSpaceImageButton = UIButton().then { view in
        view.frame = CGRect(origin: .zero, size: CGSize(width: 30, height: 30))
        let defaultImage = UIImage(named: "WorkSpace")
        view.setBackgroundImage(defaultImage, for: .normal)
        view.backgroundColor = .clear
        view.layer.cornerRadius = 8
        view.clipsToBounds = true
        view.contentMode = .scaleAspectFit
    }

    lazy var workSpaceImageBarButton =  UIBarButtonItem(customView: workSpaceImageButton)

    ...

    navigationItem.setLeftBarButton(workSpaceImageBarButton, animated: true)

- ì´ ìƒí™©ì—ì„œ ë²„íŠ¼ì˜ ì‚¬ì´ì¦ˆë¥¼ **Constraints í˜¹ì€ Frameìœ¼ë¡œ í¬ê¸°ë¥¼ ì„¤ì •í•´ ì£¼ì–´ë„ ì§€ì •í•œ ì‚¬ì´ì¦ˆëŒ€ë¡œ êµ¬í˜„ë˜ì§€ ì•ŠëŠ” ë¬¸ì œ** ë°œìƒ.
- `UIButton`ì•ˆì˜ imageë¥¼ ì„¤ì •í•˜ëŠ” ê²½ìš°, **ì„¤ì •í•œ imageì˜ í¬ê¸°ì— ë”°ë¼ buttonë‚´ ImageViewì˜ í¬ê¸°ê°€ ê²°ì •ë˜ê³  buttonì€ í•´ë‹¹ imageViewì˜ í¬ê¸°ë³´ë‹¤ ì‘ê²Œ ì„¤ì •ë  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— í•´ë‹¹ ë¬¸ì œê°€ ë°œìƒí•˜ëŠ” ê²ƒì„ í™•ì¸.**
- button ë‚´ imageë¥¼ ì„¤ì •í•˜ê³  ì‹¶ì€ buttonì˜ ì‚¬ì´ì¦ˆë³´ë‹¤ ì‘ê²Œ resizingí•˜ì—¬ buttonì˜ ì‚¬ì´ì¦ˆë¥¼ ì„¤ì •í•´ì£¼ë©´ ì •ìƒì ìœ¼ë¡œ ì‚¬ì´ì¦ˆ ì¡°ì ˆì´ ê°€ëŠ¥.

  ```Swift
    let workSpaceImageButton = UIButton().then { view in
        view.frame = CGRect(origin: .zero, size: CGSize(width: 30, height: 30))
        let defaultImage = UIImage(named: "WorkSpace")?.resizingByRenderer(size: CGSize(width: 30, height: 30), tintColor: .BackgroundColor.backgroundPrimaryColor)
        view.setBackgroundImage(defaultImage, for: .normal)
        view.backgroundColor = .clear
        view.layer.cornerRadius = 8
        view.clipsToBounds = true
        view.contentMode = .scaleAspectFit
    }
    
    lazy var workSpaceImageBarButton =  UIBarButtonItem(customView: workSpaceImageButton)
    
    ...

    navigationItem.setLeftBarButton(workSpaceImageBarButton, animated: true)



## ğŸ“”íšŒê³ 
- ìµœì´ˆë¡œ PGì‚¬ì˜ SDKë¥¼ í†µí•´ ê²°ì œë¥¼ ë‹¬ ìˆ˜ ìˆì–´, **ê²°ì œ ì‹œìŠ¤í…œ êµ¬í˜„ì— ëŒ€í•œ ë‘ë ¤ì›€ì´ í•´ì†Œ**ë˜ì—ˆë‹¤.
- ì—´ê±°í˜•ì„ RawValueë¡œ ì´ˆê¸°í™” í•´ì•¼í•˜ëŠ” ìƒí™©ì—ì„œ ì¶”ìƒí™”ë¥¼ í•˜ê¸° ìœ„í•´ ë§ì€ ê³ ë¯¼ì„ ëì— `RawValue Protocol`ì„ ì•Œê²Œë˜ì—ˆê³  ì´ë¥¼ í†µí•´ NetworkErrorì— ê´€í•´ì„œ ì¶”ìƒí™”í•˜ì—¬ Genericì‚¬ìš©ì´ ê°€ëŠ¥í•˜ê²Œ í•˜ì—¬ ì¬ì‚¬ìš©ì„±ì„ ë†’ì¼ ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.
- Moyaì˜ TargetType(Router Pattern)ì„ **DIë¥¼ í†µí•´ ë¶„ë¦¬**ë¥¼ í–ˆë‹¤ë©´ ìœ ì§€ë³´ìˆ˜ì„±ì´ ì¢‹ê³  ê°„ê²°í•œ ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ì§€ë§Œ ì‹¤ì œë¡œ ì ìš©í•˜ì§€ ëª»í•´ ì•„ì‰½ë‹¤.


